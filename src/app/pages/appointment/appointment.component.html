<div class="appointment-container">

  <!-- My Schedule Button Section -->
  <div class="my-schedule-section">
    <div class="schedule-header">
      <div class="schedule-info">
        <h2>My Schedule</h2>
        <p>Manage your appointment timings and availability</p>
      </div>
      <div class="schedule-actions">
        <app-button 
          [color]="'primary'" 
          [appearance]="'raised'"
          (btnClick)="navigateToMySchedule()"
        >
          <app-icon [fontSet]="'material-icons-outlined'" [fontIcon]="'schedule'"></app-icon>
          Manage My Schedule
        </app-button>
      </div>
    </div>
  </div>

  <mat-tab-group 
    [selectedIndex]="selectedTabIndex"
    (selectedIndexChange)="onTabChange($event)"
    class="appointment-tabs"
  >

    <!-- Show All Appointments Tab -->
    <mat-tab label="Show all appointments">
      <div class="tab-content">
        
        <app-grid
          [rowData]="allAppointments"
          [columnDefs]="appointmentColumns"
          [gridOptions]="appointmentGridOptions"
          [height]="'500px'"
          [showHeader]="true"
          [rightTooltemplateRef]="rightTooltemplateAppointment"
          [searchPlaceholder]="'Search appointments...'"
          (rowClicked)="onAppointmentRowClick($event)"
        ></app-grid>
      </div>
    </mat-tab>

    <!-- Pending Appointments Tab -->
    <mat-tab label="Pending appointments">
      <div class="tab-content">
        
        <app-grid
          [rowData]="pendingAppointments"
          [columnDefs]="pendingColumns"
          [gridOptions]="pendingGridOptions"
          [height]="'500px'"
          [showHeader]="true"
          [rightTooltemplateRef]="rightTooltemplatePending"
          [searchPlaceholder]="'Search pending appointments...'"
          (rowClicked)="onPendingRowClick($event)"
        ></app-grid>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>



<ng-template #rightTooltemplateAppointment>
    <div class="grid-actions">
        <app-icon [fontSet]="'material-icons-outlined'" [isCovered]="true" [fontIcon]="'add'" (click)="createAppointment()"></app-icon>
    </div>
</ng-template>

<ng-template #rightTooltemplatePending>
    <div class="grid-actions">
        <app-icon [fontSet]="'material-icons-outlined'" [isCovered]="true" [fontIcon]="'refresh'" (click)="refreshPending()"></app-icon>
    </div>
</ng-template>
